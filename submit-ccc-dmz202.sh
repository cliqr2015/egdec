if [[ ! -z "$2" ]]; then
	deploymentName="Nov-$1"
	deploymentFolder="/Egor/CustomDeployments/$deploymentName"
	if [[ ! -z "$3" ]]; then BundleRepo="$3"; else BundleRepo="10.36.2.198"; fi
	curl -k -H "X-CLIQR-API-KEY-AUTH:true" -H "Content-Type:application/json" -u admin@cliqrtech.com,1:cliqr1 https://dmz202.cisco.com/v2/jobs -d '{"appId":"45","appVersion":"3","name":"'$1'","metadatas":[{"namespace":"","name":"Name","value":"%JOB_NAME%","editable":false,"required":true}],"environmentId":"2","tagIds":[],"securityProfileIds":[],"agingPolicyId":null,"suspensionPolicyId":null,"policyIds":null,"preventTermination":false,"parameters":{"appParams":[{"name":"CCC_version","value":"'$2'"},{"name":"BundleRepo","value":"'$BundleRepo'"}],"cloudParams":{"cloudRegionId":"1","accountId":"1"}},"jobs":[{"tierId":"46","policyIds":null,"tagIds":[],"securityProfileIds":[],"parameters":{"appParams":[{"name":"referredJob","value":""},{"name":"SSHKeyName","value":"ssh"},{"name":"SSHPublicKey","value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDD5SK8a4yMAcX1z794gXam08uxiR66x3SkXUbfl5IM/pF6Pl3D97k7cKwlFyrpcuN8jwVLaQyiTfNBIgHn4WguPKEqZgnZnNQnZexV4SMH5t2sgx8mXg/k3ArE0RqzuSXZzGDyrSAJbgC+DMXUVO7XqK4n7DJSI7nidJk6PpzZow7+u264/vLjoFcToxsGj6TWLRWBPuI8ZonRef+wiL/ELBjQ8iggrvP+1zaQ54zw7wEiJGfsY4XfZRSVw2+boMOPPkg+lM5Oq0acO+MwuQsBd/mjESvxn4+8EvYrwrfeX+RjqMTtKtUggYg2Sur6VE04AAhsCILxDMnTZLrMp4gZ "},{"name":"SSHPreference","value":"PUBLIC_KEY"}],"envParams":[],"cloudParams":{"cloudRegionId":"1","accountId":"1","volumes":[],"rootVolumeSize":"0","cloudProperties":[{"name":"FullClone","value":"false"},{"name":"UserDatastoreCluster","value":""},{"name":"UserDataCenterName","value":"Rack-N2-DC"},{"name":"UserClusterName","value":"Deployments"},{"name":"UserDatastore","value":""},{"name":"UserResourcePoolName","value":""},{"name":"UserTargetDeploymentFolder","value":"/Egor/CustomDeployments/'$1'"},{"name":"CC_AUTO_SELECT_NETWORK","value":false},{"name":"numNICs","value":""},{"name":"externalNetwork","value":""},{"name":"serviceGraphTemplate","value":""}],"nics":[{}]}}},{"tierId":"47","policyIds":null,"tagIds":[],"securityProfileIds":[],"parameters":{"appParams":[{"name":"referredJob","value":""}],"envParams":[],"cloudParams":{"cloudRegionId":"1","accountId":"1","volumes":[{"name":"RootVolume","bootable":true,"size":"","type":null,"iops":null}],"rootVolumeSize":"0","cloudProperties":[{"name":"FullClone","value":"false"},{"name":"UserDatastoreCluster","value":""},{"name":"UserDataCenterName","value":"Rack-N2-DC"},{"name":"UserClusterName","value":"Deployments"},{"name":"UserDatastore","value":""},{"name":"UserResourcePoolName","value":""},{"name":"UserTargetDeploymentFolder","value":"/Egor/CustomDeployments/'$1'"},{"name":"CC_AUTO_SELECT_NETWORK","value":false},{"name":"numNICs","value":""}],"nics":[{"order":1,"id":"VM Network","type":"NETWORK"}],"instance":"ccc"}}},{"tierId":"48","policyIds":null,"tagIds":[],"securityProfileIds":[],"parameters":{"appParams":[{"name":"referredJob","value":""}],"envParams":[],"cloudParams":{"cloudRegionId":"1","accountId":"1","volumes":[{"name":"RootVolume","bootable":true,"size":"","type":null,"iops":null}],"rootVolumeSize":"0","cloudProperties":[{"name":"FullClone","value":"false"},{"name":"UserDatastoreCluster","value":""},{"name":"UserDataCenterName","value":"Rack-N2-DC"},{"name":"UserClusterName","value":"Deployments"},{"name":"UserDatastore","value":""},{"name":"UserResourcePoolName","value":""},{"name":"UserTargetDeploymentFolder","value":"/Egor/CustomDeployments/'$1'"},{"name":"CC_AUTO_SELECT_NETWORK","value":false},{"name":"numNICs","value":""}],"nics":[{"order":1,"id":"VM Network","type":"NETWORK"}],"instance":"ccc"}}},{"tierId":"49","policyIds":null,"tagIds":[],"securityProfileIds":[],"parameters":{"appParams":[{"name":"referredJob","value":""}],"envParams":[],"cloudParams":{"cloudRegionId":"1","accountId":"1","volumes":[{"name":"RootVolume","bootable":true,"size":"","type":null,"iops":null}],"rootVolumeSize":"0","cloudProperties":[{"name":"FullClone","value":"false"},{"name":"UserDatastoreCluster","value":""},{"name":"UserDataCenterName","value":"Rack-N2-DC"},{"name":"UserClusterName","value":"Deployments"},{"name":"UserDatastore","value":""},{"name":"UserResourcePoolName","value":""},{"name":"UserTargetDeploymentFolder","value":"/Egor/CustomDeployments/'$1'"},{"name":"CC_AUTO_SELECT_NETWORK","value":false},{"name":"numNICs","value":""}],"nics":[{"order":1,"id":"VM Network","type":"NETWORK"}],"instance":"ccc"}}},{"tierId":"50","policyIds":null,"tagIds":[],"securityProfileIds":[],"parameters":{"appParams":[{"name":"referredJob","value":""}],"envParams":[],"cloudParams":{"cloudRegionId":"1","accountId":"1","volumes":[{"name":"RootVolume","bootable":true,"size":"","type":null,"iops":null}],"rootVolumeSize":"0","cloudProperties":[{"name":"FullClone","value":"false"},{"name":"UserDatastoreCluster","value":""},{"name":"UserDataCenterName","value":"Rack-N2-DC"},{"name":"UserClusterName","value":"Deployments"},{"name":"UserDatastore","value":""},{"name":"UserResourcePoolName","value":""},{"name":"UserTargetDeploymentFolder","value":"/Egor/CustomDeployments/'$1'"},{"name":"CC_AUTO_SELECT_NETWORK","value":false},{"name":"numNICs","value":""}],"nics":[{"order":1,"id":"VM Network","type":"NETWORK"}],"instance":"ccc"}}}],"timeZone":"GMT-07:00","responseJobJaxbNotRequired":true}';
else
	echo "Deployment name -'$1'- or CCC version/destination folder -'$2'- is missing...";
fi
